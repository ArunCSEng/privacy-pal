<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>How to Check a Short Link’s Real Destination (Without Opening It) — BitDark Blog</title>
  <meta name="description" content="A privacy-first, practical guide to reveal where short links (bit.ly, tinyurl, t.co) really go—without opening the destination page. Includes safe methods for mobile/desktop, redirect-chain checks, real scam examples (bank, courier, crypto), and a client-only workflow." />
  <link rel="canonical" href="https://bitdark.net/blog/check-short-link-destination-without-opening/" />

  <meta name="bd:category" content="Safe-Link Tips" />
  <meta name="bd:tags" content="short-link,unshorten,expand-url,bitly,tinyurl,t.co,redirect,link-safety,privacy,client-only,whatsapp,sms,email,scams" />
  <meta name="bd:updated" content="2025-12-25" />

  <meta name="robots" content="index,follow" />

  <style>
    :root{
      --bg:#ffffff; --fg:#111827; --muted:#6b7280; --line:#e5e7eb;
      --card:#ffffff; --shadow:0 1px 2px rgba(0,0,0,.06);
      --link:#1a73e8; --chip:#f3f4f6;
      --code:#0b1020; --codefg:#e5e7eb;
    }
    html[data-theme="dark"]{
      --bg:#0b0f1a; --fg:#e5e7eb; --muted:#9ca3af; --line:#1f2937;
      --card:#0f1626; --shadow:0 1px 2px rgba(0,0,0,.35);
      --link:#8ab4f8; --chip:#111827;
      --code:#050814; --codefg:#e5e7eb;
    }
    *{box-sizing:border-box}
    body{
      margin:0; background:var(--bg); color:var(--fg);
      font:16px/1.8 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial;
    }
    a{color:var(--link); text-decoration:none}
    a:hover{text-decoration:underline}

    .wrap{max-width:1200px;margin:0 auto;padding:18px 16px 70px}

    .topbar{
      position:sticky;top:0;z-index:10;
      background:color-mix(in srgb,var(--bg) 92%,transparent);
      backdrop-filter:blur(10px);
      border-bottom:1px solid var(--line);
    }
    .topbar .inner{
      max-width:1200px;margin:0 auto;padding:10px 16px;
      display:flex;gap:12px;align-items:center;
    }
    .brand{min-width:180px}
    .brand b{font-size:16px}
    .brand span{font-size:12px;color:var(--muted)}
    .searchbar{flex:1;display:flex;justify-content:flex-end}
    .searchWrap{position:relative;width:min(560px,100%)}
    .searchWrap input{
      width:100%;padding:10px 12px 10px 36px;
      border:1px solid var(--line);
      border-radius:14px;background:var(--bg);color:var(--fg);
      outline:none;
    }
    .searchWrap svg{position:absolute;left:12px;top:50%;transform:translateY(-50%);opacity:.5}
    .btn{
      border:1px solid var(--line);background:var(--card);color:var(--fg);
      padding:8px 10px;border-radius:12px;cursor:pointer; box-shadow:0 1px 2px rgba(0,0,0,.06);
      font-size:13px;
    }

    .crumbs{
      margin-top:16px;font-size:13px;color:var(--muted);
      display:flex;gap:8px;flex-wrap:wrap;align-items:center;
    }

    .grid{display:grid;gap:16px;margin-top:16px}
    @media(min-width:980px){
      .grid{grid-template-columns:2.3fr 0.9fr}
    }
    .card{
      border:1px solid var(--line);
      background:var(--card);
      border-radius:18px;
      padding:20px;
      box-shadow:0 1px 2px rgba(0,0,0,.06);
    }

    h1{font-size:32px;line-height:1.2;margin:10px 0 8px}
    h2{font-size:22px;margin:30px 0 10px}
    h3{font-size:18px;margin:20px 0 8px}
    p{margin:12px 0}
    ul{margin:12px 0 12px 18px}
    ol{margin:12px 0 12px 18px}
    .subhead{margin:0 0 10px;font-size:15px;color:var(--muted)}
    pre{
      background:var(--code);color:var(--codefg);
      padding:14px;border-radius:14px;overflow:auto;
      border:1px solid rgba(255,255,255,.06);
    }
    code{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
    .note{
      border-left:4px solid var(--link);
      padding:12px;background:var(--chip);
      border-radius:12px;margin:16px 0;
    }
    .warn{
      border-left:4px solid #ef4444;
      padding:12px;background:color-mix(in srgb, #ef4444 10%, var(--chip));
      border-radius:12px;margin:16px 0;
    }
    .ok{
      border-left:4px solid #22c55e;
      padding:12px;background:color-mix(in srgb, #22c55e 10%, var(--chip));
      border-radius:12px;margin:16px 0;
    }
    .meta{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
      color:var(--muted); font-size:12px; margin:0 0 6px;
    }
    .dot{opacity:.8}

    .tagsInline{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}
    .tag{
      border:1px solid var(--line);
      padding:5px 10px;border-radius:999px;
      font-size:12px;color:var(--muted);
      background:color-mix(in srgb, var(--chip) 92%, transparent);
    }

    .tocNav{display:flex;flex-direction:column;gap:6px;margin-top:10px}
    .tocNav a{
      font-size:13px;color:var(--muted);
      padding:6px 8px;border-radius:8px;
      text-decoration:none; line-height:1.35;
    }
    .tocNav a:hover{background:var(--chip);color:var(--fg)}
    .toc-h3{padding-left:18px;font-size:12px;opacity:.95}

    .adSlot{
      margin-top:14px;
      min-height:520px;
      border:1px dashed var(--line);
      border-radius:16px;
      display:flex;align-items:center;justify-content:center;
      color:var(--muted);text-align:center;
      padding:12px;
      background:color-mix(in srgb, var(--bg) 92%, transparent);
    }

    .relatedGrid{display:grid;gap:12px;margin-top:12px}
    @media(min-width:720px){ .relatedGrid{grid-template-columns:1fr 1fr} }
    .relatedItem{
      border:1px solid var(--line);
      border-radius:16px;
      padding:14px;
      background:color-mix(in srgb, var(--card) 92%, transparent);
    }
    .relatedItem b{display:block;margin-bottom:6px;font-size:14px}
    .relatedItem span{color:var(--muted);font-size:12px}

    footer{
      margin-top:30px;border-top:1px solid var(--line);
      padding-top:12px;font-size:12px;color:var(--muted);
      display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;
    }
    .footRight{margin-left:auto;display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end}
    .footRight a{color:var(--muted)}
    .footRight a:hover{color:var(--fg); text-decoration:none}
  </style>
</head>

<body>
  <div class="topbar">
    <div class="inner">
      <div class="brand">
        <b><a href="/" aria-label="BitDark Home">BitDark</a></b>
        <span><a href="/blog/">Blog</a></span>
      </div>

      <div class="searchbar" role="search">
        <form class="searchWrap" action="/blog/" method="GET">
          <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M21 21l-4.35-4.35m1.85-5.15a7 7 0 11-14 0 7 7 0 0114 0z" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
          </svg>
          <input name="q" id="qTop" placeholder="Search blog…" autocomplete="off">
        </form>
      </div>

      <button class="btn" id="themeBtn" type="button">Theme</button>
    </div>
  </div>

  <div class="wrap">
    <div class="crumbs" aria-label="Breadcrumbs">
      <a href="/">Home</a>
      <span>›</span>
      <a href="/blog/">Blog</a>
      <span>›</span>
      <span id="crumbTitle">How to Check a Short Link’s Real Destination (Without Opening It)</span>
    </div>

    <div class="grid">
      <article class="card" id="article">
        <h1 id="postTitle">How to Check a Short Link’s Real Destination (Without Opening It)</h1>
        <p class="subhead"><b>A privacy-first guide to reveal where short links really go—without loading the destination page</b></p>
        <p class="subhead">(For bit.ly, tinyurl, t.co, and other “mystery links” from SMS, WhatsApp, email, QR codes, and social posts)</p>

        <div class="meta" aria-label="Post metadata">
          <span>Updated: <time id="updatedTime" datetime="2025-12-25">Dec 25, 2025</time></span>
          <span class="dot">•</span>
          <span>Category: <b id="postCategory">Safe-Link Tips</b></span>
          <span class="dot">•</span>
          <span>Read time: <span id="readTime">~15–22 min</span></span>
        </div>

        <div class="tagsInline" aria-label="Tags">
          <span class="tag">Short Links</span>
          <span class="tag">Redirects</span>
          <span class="tag">bit.ly</span>
          <span class="tag">TinyURL</span>
          <span class="tag">t.co</span>
          <span class="tag">Privacy-First</span>
          <span class="tag">Client-Only</span>
        </div>

        <h2>Why Short Links Feel Unsafe (Even When They’re Legit)</h2>
        <p>A short link is a redirect. It’s a tiny URL that forwards you to a longer destination. Brands use them for SMS, social posts, QR codes, and tracking campaigns. Scammers use them for the same reason: <b>they hide the real destination</b>.</p>
        <p>On mobile, you often can’t hover to preview. In chats, you might see only a blue line of text. If the message is urgent (“verify now”, “delivery failed”, “claim reward”), your brain is pushed to tap first and think later.</p>

        <div class="ok">
          <b>The goal of this article:</b> Reveal the real destination of a short link <b>without opening the destination page</b>—and do it in a way that respects privacy.
        </div>

        <h2>“Without Opening It” — What That Actually Means</h2>
        <p>Let’s define terms clearly.</p>
        <ul>
          <li><b>Opening the destination page</b> means loading the final website in your browser (images/scripts/cookies)—the risky part.</li>
          <li><b>Checking the destination</b> means discovering where the redirect points, ideally without rendering the final site.</li>
        </ul>
        <p>Most safe methods still involve contacting the short-link service (because redirects must be resolved), but the key is: <b>don’t load the final page</b> and don’t hand your link to random third-party “checker” sites unless you accept that privacy tradeoff.</p>

        <h2>Fast Answer (Featured-Snippet Style)</h2>
        <p>You can check a short link’s real destination without opening it by using:</p>
        <ol>
          <li><b>Built-in preview features</b> (Bitly and TinyURL offer preview / link-check pages).</li>
          <li><b>Platform UI previews</b> (some apps show expanded URLs on hover/preview).</li>
          <li><b>A HEAD request</b> (desktop method to read redirect headers without rendering a page).</li>
          <li><b>A privacy-first local workflow</b> (inspect the URL text before you ever tap).</li>
        </ol>

        <h2>Step 0: Copy the Link Safely (Mobile &amp; Desktop)</h2>
        <h3>WhatsApp / Telegram</h3>
        <ul>
          <li>Long-press the message and choose <b>Copy link</b> (or open the message menu → copy).</li>
          <li>Avoid tapping the link itself. Copy first.</li>
        </ul>

        <h3>SMS</h3>
        <ul>
          <li>Long-press the link area if your SMS app allows selection.</li>
          <li>If not, use “Copy text” and paste into Notes to extract the URL.</li>
        </ul>

        <h3>Desktop Browsers</h3>
        <ul>
          <li>Right-click → <b>Copy link address</b>.</li>
          <li>Do not left-click the link to “test” it.</li>
        </ul>

        <div class="warn">
          <b>Safety note:</b> Some links contain tracking identifiers unique to you. Treat copied links like sensitive text—especially if they relate to banking, deliveries, or work.
        </div>

        <h2>Method 1: Use the Shortener’s Official Preview / Link-Check</h2>
        <p>Many shorteners provide an official way to show the destination URL without taking you straight to the final site.</p>

        <h3>Bitly: Two Official Options</h3>
        <p>Bitly provides a link-check flow, and it also supports a “+” suffix preview on many links. This is useful because you stay inside Bitly’s environment and can read the destination before deciding what to do next.</p>

        <pre><code>Example:
Original: https://bit.ly/abc123
Preview:  https://bit.ly/abc123+</code></pre>

        <p><b>What to look for on the preview:</b></p>
        <ul>
          <li>the <b>destination domain</b> (what company it actually belongs to)</li>
          <li>the <b>path</b> (login page? payment page? “verify” page?)</li>
          <li>any obvious mismatch between the message claim and the destination</li>
        </ul>

        <div class="note">
          <b>Privacy reality:</b> You still contact Bitly to see the preview. But you avoid loading the final destination site immediately, which is the main risk.
        </div>

        <h3>TinyURL: Preview Feature</h3>
        <p>TinyURL has a preview feature that can show where a TinyURL link redirects. If preview is enabled, you’ll see a destination page before the redirect happens.</p>
        <pre><code>Example:
TinyURL:  https://tinyurl.com/xyz789
Preview:  https://tinyurl.com/preview (enable preview)</code></pre>

        <p><b>Use case:</b> If someone sends you a TinyURL claiming to be from a bank, courier, or exchange, preview first. If the destination isn’t the official domain, you already have your answer: don’t proceed.</p>

        <h2>Method 2: Check if the App Already Shows You the Expanded URL</h2>
        <p>Sometimes, you can get the destination without any extra tools:</p>
        <ul>
          <li><b>Desktop browsers:</b> hover (mouse) often reveals the destination in the status bar.</li>
          <li><b>Some social platforms:</b> show expanded URLs in UI metadata.</li>
        </ul>

        <h3>t.co (X) Links</h3>
        <p>Links on X are often wrapped with <code>t.co</code>. In many contexts, X’s UI can show the expanded URL (for example, via the title attribute / expanded URL metadata used in their systems). Even then, treat the expanded destination like any other: verify the domain and intent before opening.</p>

        <div class="note">
          <b>Tip:</b> If you can see the expanded URL in a tooltip/preview, copy that expanded URL and inspect it (domain + path) instead of opening it directly.
        </div>

        <h2>Method 3: Desktop “HEAD Request” (See Redirect Without Rendering the Page)</h2>
        <p>This is the most “technical but clean” method for desktop users. The idea is simple: ask the server for headers only. You can often see the redirect destination in the <code>Location</code> header.</p>

        <h3>Using curl (Windows "Command Prompt")</h3>
        <pre><code>C:\Users\Guest>curl -I https://bit.ly/abc123
HTTP/1.1 301 Moved Permanently
Server: nginx
Content-Type: text/html; charset=utf-8
Content-Length: 83
Cache-Control: private, max-age=90
Content-Security-Policy: referrer always;
Location: http://vmsvedaweb.com/gayatri/
Referrer-Policy: unsafe-url
        </code></pre>

        <p><b>Why this helps:</b> It does not render the destination page (no scripts/images), so you can inspect the redirect endpoint with less risk than opening it in a browser.</p>

        <div class="warn">
          <b>Privacy note:</b> This still contacts the shortener service and reveals your IP to them. If you need maximum privacy, avoid all network-based expansion on a personal device and rely on official channels (open your bank/courier/exchange app directly instead).
        </div>

        <h3>Redirect Chains: More Than One Jump</h3>
        <p>Short links sometimes redirect multiple times:</p>
        <ul>
          <li>shortener → tracking domain → landing page → final site</li>
        </ul>
        <p>Multiple redirects aren’t always bad (marketing does this), but it increases complexity and reduces transparency. If you see a long chain—especially toward a login/payment page—be extra cautious.</p>

        <h2>Method 4: The Privacy-First Workflow (BitDark Style)</h2>
        <p>Even before you expand a short link, you can often determine whether it’s worth touching at all by evaluating:</p>
        <ul>
          <li>the <b>message intent</b> (urgent verification? payment? refund?)</li>
          <li>the <b>shortener type</b> (brand domain shortener vs generic)</li>
          <li>the <b>context</b> (did you initiate this action?)</li>
        </ul>

        <div class="ok">
          <b>High-safety rule:</b> If a message claims “bank/courier/crypto account issue”, do not rely on the link. Open the official app or type the official website yourself.
        </div>

        <h3>Where BitDark.NET Fits</h3>
        <p>BitDark.NET is built for privacy-first URL analysis (client-only heuristics). For short links, BitDark helps you:</p>
        <ul>
          <li>flag suspicious patterns in the short URL text (unusual domain, weird characters, risky keywords)</li>
          <li>make a “do I even touch this?” decision before any deeper investigation</li>
        </ul>
        <p>Because the analysis is client-side, you can inspect without uploading your link to a third-party server-based checker.</p>

        <div class="note">
          <b>BitDark reminder:</b> No servers. No tracking. No link uploads. Just local checks inside your browser.
        </div>

        <h2>Real-World Scam Patterns Using Short Links (Bank, Courier, Crypto)</h2>
        <p>Below are realistic patterns you’ll see in SMS/WhatsApp/email. The example domains use <code>[.]</code> to prevent accidental clicks.</p>

        <h3>Example 1: “KYC Update” Bank Message + Short Link</h3>
        <pre><code>“Your KYC is pending. Account access may be limited.
Update now: https://bit.ly/3AbCxyz”</code></pre>
        <p><b>How to handle:</b></p>
        <ol>
          <li>Do not open the short link.</li>
          <li>Open your bank’s official app directly.</li>
          <li>If the app shows no alert, treat the message as untrusted.</li>
          <li>If you still want to investigate, preview the short link destination first (Bitly link checker / preview), then verify the destination domain matches the real bank.</li>
        </ol>

        <h3>Example 2: Courier “Delivery Failed” + TinyURL</h3>
        <pre><code>“Delivery failed due to incomplete address.
Confirm here: https://tinyurl.com/2p9xxxxx”</code></pre>
        <p><b>How to handle:</b></p>
        <ol>
          <li>If you are not expecting a package, ignore.</li>
          <li>If you are expecting a package, track using the courier’s official site/app that you open yourself.</li>
          <li>If curiosity remains, use TinyURL preview to see the destination domain before doing anything else.</li>
        </ol>

        <h3>Example 3: Crypto “Airdrop Claim” + t.co Link</h3>
        <pre><code>“Limited claim window. Connect wallet to receive tokens:
https://t.co/xxxxx”</code></pre>
        <p><b>How to handle:</b></p>
        <ol>
          <li>Do not connect a wallet through a link you received in a message.</li>
          <li>Assume any “claim now” link is high risk until verified through official sources.</li>
          <li>If investigating, expand the link safely first (desktop HEAD request / platform preview), then verify the destination domain is the official project domain you already trust.</li>
        </ol>

        <div class="warn">
          <b>Big reality:</b> The most dangerous part isn’t the short link itself—it’s what the destination page asks you to do (login, OTP, payment, wallet connection, remote support).
        </div>

        <h2>How to Judge the Destination Once You Reveal It</h2>
        <p>After you expand/preview, you’ll get a long URL. Now apply these checks before opening it:</p>

        <h3>1) Domain Ownership Check (Most Important)</h3>
        <p>If the message says “your bank”, the destination should be on your bank’s official domain—not a random look-alike.</p>

        <h3>2) Intent Check</h3>
        <p>Does the destination immediately request:</p>
        <ul>
          <li>password / OTP / PIN</li>
          <li>payment to “release” something</li>
          <li>remote access / support app installation</li>
          <li>wallet connection / signature</li>
        </ul>
        <p>If yes, treat it as high risk unless you initiated the action and the domain is official.</p>

        <h3>3) Redirect-to-Login Pattern</h3>
        <p>A very common pattern is: short link → landing page → “continue” → login page. If your original message came via SMS/WhatsApp/email and pushes a login, be skeptical.</p>

        <h2>Short Links Aren’t Always Bad: When They’re Fine</h2>
        <p>Short links are common in legitimate situations:</p>
        <ul>
          <li>official brand SMS from a known sender that you can verify inside the official app</li>
          <li>QR codes on product packaging that point to manuals</li>
          <li>social posts from verified accounts (still verify destination)</li>
        </ul>
        <p><b>Key difference:</b> Legit scenarios don’t require panic or secrecy. If the message tries to rush you, that’s the real warning sign.</p>

        <h2>FAQ</h2>

        <h3>Are all bit.ly and tinyurl links unsafe?</h3>
        <p>No. They are widely used for legitimate marketing and sharing. The risk is that you can’t see the destination at a glance—so you must preview first.</p>

        <h3>Does previewing a short link “expose” me?</h3>
        <p>Previewing typically contacts the shortener service (Bitly/TinyURL) to retrieve destination info. That reveals your IP to that service. It’s usually much safer than opening the final destination page, but it’s not “invisible.”</p>

        <h3>What’s the safest option for bank or delivery messages?</h3>
        <p>Ignore the link. Open the official app or type the official site manually. If there’s a real issue, it will appear there.</p>

        <h3>What if the destination uses HTTPS?</h3>
        <p>HTTPS only means the connection is encrypted. It does not prove the site is legitimate.</p>

        <h3>Can I check the destination without contacting any server at all?</h3>
        <p>Not reliably, because redirects must be resolved by contacting the shortener (unless the app already displays the expanded URL). If maximum privacy is required, skip link investigation and use official channels only.</p>

        <h2>Final Checklist (Copy/Paste Mental Model)</h2>
        <div class="ok">
          <ul>
            <li><b>Copy, don’t tap.</b></li>
            <li><b>Preview/expand</b> using official preview methods when possible.</li>
            <li><b>Verify the destination domain</b> matches the real organization.</li>
            <li><b>Be extra cautious</b> with login, OTP, payment, and wallet-connect pages.</li>
            <li><b>For bank/courier/crypto issues:</b> use the official app/site you open yourself.</li>
          </ul>
        </div>

        <h2>Related articles</h2>
        <div class="relatedGrid">
          <div class="relatedItem">
            <b><a href="/blog/how-to-spot-a-suspicious-link-without-uploading-it-anywhere/">How to Spot a Suspicious Link Without Uploading It Anywhere</a></b>
            <span>Safe-Link Tips • A broader “verify before you open” guide</span>
          </div>
          <div class="relatedItem">
            <b><a href="/blog/how-to-hide-sensitive-files-online-in-2026/">How to Hide Sensitive Files Online in 2026</a></b>
            <span>Privacy Workflow • Secure file sharing and encryption habits</span>
          </div>
          <div class="relatedItem">
            <b><a href="/blog/">Browse all posts</a></b>
            <span>Blog • Search by keywords, tags and categories</span>
          </div>
          <div class="relatedItem">
            <b><a href="/">Back to BitDark home</a></b>
            <span>Homepage • Matrix experience</span>
          </div>
        </div>
      </article>

      <aside class="card" aria-label="Sidebar">
        <b>On this page</b>
        <nav id="toc" class="tocNav" aria-label="Table of contents"></nav>

        <div class="adSlot">
          Future AdSense / widgets<br>
          (Reserved space)
        </div>
      </aside>
    </div>

    <footer>
      <div>© <span id="year"></span> BitDark.NET</div>
      <div class="footRight">
        <a href="/blog/">Blog</a>
        <a href="/about.html">About</a>
        <a href="/privacy.html">Privacy</a>
        <a href="/terms.html">Terms</a>
        <a href="/faq.html">FAQ</a>
      </div>
    </footer>
  </div>

  <script>
    (() => {
      const root = document.documentElement;
      const saved = localStorage.getItem("bd_blog_theme");
      if (saved === "dark" || saved === "light") root.setAttribute("data-theme", saved);

      document.getElementById("themeBtn").addEventListener("click", () => {
        const cur = root.getAttribute("data-theme") || "light";
        const next = cur === "dark" ? "light" : "dark";
        root.setAttribute("data-theme", next);
        localStorage.setItem("bd_blog_theme", next);
      });

      document.getElementById("year").textContent = new Date().getFullYear();

      const title = (document.getElementById("postTitle")?.textContent || "Post").trim();
      document.getElementById("crumbTitle").textContent = title;

      const cat = document.querySelector("meta[name='bd:category']")?.content?.trim();
      if (cat) document.getElementById("postCategory").textContent = cat;

      const upd = document.querySelector("meta[name='bd:updated']")?.content?.trim();
      if (upd) {
        const t = document.getElementById("updatedTime");
        t.setAttribute("datetime", upd);
        const dt = new Date(upd + "T00:00:00");
        const pretty = dt.toLocaleDateString(undefined, { year:"numeric", month:"short", day:"2-digit" });
        t.textContent = pretty;
      }

      const params = new URLSearchParams(location.search);
      const q = params.get("q");
      if (q) document.getElementById("qTop").value = q;
    })();

    (() => {
      const article = document.getElementById("article");
      const out = document.getElementById("readTime");
      if (!article || !out) return;

      const text = (article.innerText || "").replace(/\s+/g, " ").trim();
      const words = text ? text.split(" ").length : 0;

      const wpmFast = 260;
      const wpmSlow = 220;
      const minFast = Math.max(1, Math.ceil(words / wpmFast));
      const minSlow = Math.max(1, Math.ceil(words / wpmSlow));

      out.textContent = `~${minFast}–${minSlow} min`;
    })();

    (() => {
      const toc = document.getElementById("toc");
      const article = document.getElementById("article");
      if (!toc || !article) return;

      const headings = article.querySelectorAll("h2, h3");
      if (!headings.length) {
        toc.innerHTML = "<span style='color:var(--muted);font-size:13px'>No sections</span>";
        return;
      }

      const slugify = (s) => (s || "")
        .toLowerCase()
        .trim()
        .replace(/[^\p{L}\p{N}\s-]/gu, "")
        .replace(/\s+/g, "-")
        .replace(/-+/g, "-")
        .slice(0, 70);

      const used = new Set();

      headings.forEach((h) => {
        if (!h.id) {
          let id = slugify(h.textContent);
          if (!id) id = "section";
          let n = 2;
          while (used.has(id) || document.getElementById(id)) {
            id = `${slugify(h.textContent)}-${n++}`;
          }
          h.id = id;
          used.add(id);
        }

        const a = document.createElement("a");
        a.href = `#${h.id}`;
        a.textContent = h.textContent.trim();
        if (h.tagName === "H3") a.classList.add("toc-h3");

        a.addEventListener("click", (e) => {
          e.preventDefault();
          document.getElementById(h.id).scrollIntoView({ behavior: "smooth", block: "start" });
          history.replaceState(null, "", `#${h.id}`);
        });

        toc.appendChild(a);
      });
    })();
  </script>
</body>
</html>
